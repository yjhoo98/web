<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menu and Cart Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      gap: 20px;
    }

    .container {
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .menu-section {
      flex: 7;
      background-color: #f0f0f0;
    }

    .cart-section {
      flex: 3;
      background-color: #e0f7fa;
    }

    h2 {
      color: #333;
      margin-top: 0;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      padding: 12px;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }

    li:last-child {
      border-bottom: none;
    }

    .menu-img {
      width: 100px;
      height: auto;
      margin-top: 5px;
      border-radius: 4px;
    }

    .total {
      font-weight: bold;
      margin-top: 15px;
      border-top: 1px solid #999;
      padding-top: 10px;
    }

    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-controls {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .cart-controls button {
      padding: 3px 7px;
      font-size: 14px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="container menu-section">
    <h2>Menu</h2>
    <ul id="menu-list"></ul>
    <p>Menu is constantly updated.</p>
  </div>

  <div class="container cart-section">
    <h2>Cart</h2>
    <ul id="cart-list"></ul>
    <p class="total" id="cart-total">Ï¥ù Í∞ÄÍ≤©: 0Ïõê</p>
  </div>

  <script>
    const menus = [
      { mno: 1, name: "ÏïÑÎ©îÎ¶¨Ïπ¥ÎÖ∏", price: 4000, image: "americano.jpg" },
      { mno: 2, name: "Ïπ¥Ìéò ÎùºÎñº", price: 4500, image: "cafelatte.jpg" },
      { mno: 3, name: "Ïπ¥Ìë∏ÏπòÎÖ∏", price: 4600, image: "cappuccino.png" },
      { mno: 4, name: "ÎÖπÏ∞® ÎùºÎñº", price: 5000, image: "greentealatte.jpg" },
      { mno: 5, name: "Ï¥àÏΩî ÏºÄÏù¥ÌÅ¨", price: 6500, image: "chocolatecake.jpg" }
    ];

    const menuList = document.getElementById("menu-list");
    const cartList = document.getElementById("cart-list");
    const cartTotal = document.getElementById("cart-total");

    const cart = new Map();
    let totalPrice = 0;

    // ‚úÖ Î©îÎâ¥ Î∞è ÌÅ¥Î¶≠ Ï≤òÎ¶¨ Î™®Îëê forEach ÏïàÏóê ÌÜµÌï©
    menus.forEach(menu => {
      const li = document.createElement("li");

      const name = document.createElement("div");
      name.textContent = `${menu.name} - ${menu.price.toLocaleString()}Ïõê`;

      const img = document.createElement("img");
      img.src = `./images/${menu.image}`; // üîß Ïù¥ÎØ∏ÏßÄ ÌååÏùº Í≤ΩÎ°ú
      img.alt = menu.name;
      img.className = "menu-img";

      li.appendChild(name);
      li.appendChild(img);

      // ‚úÖ ÌÅ¥Î¶≠ Ïãú Ïû•Î∞îÍµ¨Îãà Ï∂îÍ∞Ä or ÏàòÎüâ Ï¶ùÍ∞Ä
      li.addEventListener("click", () => {
        if (cart.has(menu.mno)) {
          cart.get(menu.mno).quantity++;
          document.getElementById(`qty-${menu.mno}`).textContent = cart.get(menu.mno).quantity;
        } else {
          cart.set(menu.mno, { menu, quantity: 1 });

          const liCart = document.createElement("li");
          liCart.id = `cart-item-${menu.mno}`;
          liCart.className = "cart-item";

          const nameSpan = document.createElement("span");
          nameSpan.textContent = menu.name;

          const controls = document.createElement("div");
          controls.className = "cart-controls";

          const minusBtn = document.createElement("button");
          minusBtn.textContent = "-";
          minusBtn.addEventListener("click", () => {
            const item = cart.get(menu.mno);
            item.quantity--;
            if (item.quantity <= 0) {
              cart.delete(menu.mno);
              liCart.remove();
            } else {
              document.getElementById(`qty-${menu.mno}`).textContent = item.quantity;
            }
            updateTotal();
          });

          const quantitySpan = document.createElement("span");
          quantitySpan.id = `qty-${menu.mno}`;
          quantitySpan.textContent = "1";

          const plusBtn = document.createElement("button");
          plusBtn.textContent = "+";
          plusBtn.addEventListener("click", () => {
            cart.get(menu.mno).quantity++;
            document.getElementById(`qty-${menu.mno}`).textContent = cart.get(menu.mno).quantity;
            updateTotal();
          });

          controls.appendChild(minusBtn);
          controls.appendChild(quantitySpan);
          controls.appendChild(plusBtn);

          liCart.appendChild(nameSpan);
          liCart.appendChild(controls);
          cartList.appendChild(liCart);
        }

        updateTotal(); // ‚úÖ Ï¥ù Í∞ÄÍ≤© Í∞±Ïã†
      });

      menuList.appendChild(li);
    });

    // ‚úÖ Ï¥ù Í∞ÄÍ≤© Í∞±Ïã† Ìï®Ïàò
    function updateTotal() {
      totalPrice = 0;
      for (const { menu, quantity } of cart.values()) {
        totalPrice += menu.price * quantity;
      }
      cartTotal.textContent = `Ï¥ù Í∞ÄÍ≤©: ${totalPrice.toLocaleString()}Ïõê`;
    }
  </script>

</body>
</html>
